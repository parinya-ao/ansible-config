# SPDX-License-Identifier: MIT-0
---
# SSH port configuration using firewalld

- name: Open SSH port with firewalld
  ansible.posix.firewalld:
    port: "{{ security_ssh_port }}/tcp"
    permanent: true
    state: enabled
  become: true
  register: security_ssh_port_result
  notify: Firewalld reloaded
  tags:
    - firewalld
    - ssh

- name: Display SSH firewall rule
  ansible.builtin.debug:
    msg: "âœ“ SSH port {{ security_ssh_port }}/tcp is now open in firewalld"
  tags:
    - firewalld
    - ssh