---
# SPDX-License-Identifier: MIT-0
# Python tooling installation (uv - modern Python package manager)

- name: Install uv (modern Python package manager)
  ansible.builtin.shell:
    cmd: curl -LsSf https://astral.sh/uv/install.sh | sh
  args:
    creates: "{{ lookup('env', 'HOME') }}/.local/bin/uv"
  become: false
  tags:
    - python
    - uv

- name: Verify uv installation
  ansible.builtin.shell:
    cmd: "{{ lookup('env', 'HOME') }}/.local/bin/uv --version"
  register: uv_version
  changed_when: false
  become: false
  tags:
    - python
    - uv

- name: Display uv version
  ansible.builtin.debug:
    msg: "uv {{ uv_version.stdout }} installed"
  when: uv_version.stdout is defined
  tags:
    - python
    - uv
