# SPDX-License-Identifier: MIT-0
---
# Install and configure Starship prompt

- name: Install Starship prompt
  ansible.builtin.get_url:
    url: "{{ desktop_starship_install_url }}"
    dest: /tmp/starship-install.sh
    mode: "0755"
    timeout: 60

- name: Run Starship installer
  ansible.builtin.command: /tmp/starship-install.sh --yes
  args:
    creates: /usr/local/bin/starship

- name: Configure Starship for all users
  ansible.builtin.lineinfile:
    path: /etc/bashrc
    line: 'eval "$(starship init bash)"'
    state: present
    create: true
    mode: "0644"
